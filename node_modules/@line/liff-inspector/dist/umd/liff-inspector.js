!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.LiffInspectorPlugin=t():e.LiffInspectorPlugin=t()}(self,(()=>(()=>{"use strict";var e={117:function(e,t,o){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LIFFInspectorPlugin=t.getOriginFromUrl=t.getBackendUrl=void 0;const n=o(247),r=s(o(484));t.getBackendUrl=(e,t)=>`${t.endsWith("/")?t.slice(0,-1):t}/?hi_id=${e}`,t.getOriginFromUrl=e=>new URLSearchParams(e).get("li.origin");class i{constructor(e){this.option=e,this.name="inspector",this.client=new n.HeadlessInspectorClient(new r.default)}connect(e){this.client.enable(e)}install({liff:e}){e.init=new Proxy(e.init,{apply:(e,o,s)=>{var n,r,i;const a=null!==(i=null!==(n=(0,t.getOriginFromUrl)(window.location.search))&&void 0!==n?n:null===(r=this.option)||void 0===r?void 0:r.origin)&&void 0!==i?i:"wss://localhost:9222/",d=s[0],c=(0,t.getBackendUrl)(d.liffId,a);try{this.connect(c)}catch(e){console.error("[LIFF Inspector] LIFF inspector couldn't start correctly.",e)}return Reflect.apply(e,o,s)}})}}t.LIFFInspectorPlugin=i,t.default=i},827:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.attachDOMEvents=void 0;const s=o(675),n=o(899),r=o(240),i=o(105),a=e=>Array.from(e).filter((e=>{var t;return!("#text"===e.nodeName&&""===(null===(t=e.nodeValue)||void 0===t?void 0:t.trim()))})),d=new r.Store,c=(e,t,o)=>{const s=(0,i.randomNumId)();d.getById(s)||d.store(s,e);const r=a(e.childNodes);if(0===o)return new n.CDPNode({node:e,nodeId:s,parentId:t,childNodeCount:r.length});const l=r.map((e=>c(e,s,o-1)));return new n.CDPNode({nodeId:s,node:e,parentId:t,children:l})};t.attachDOMEvents=(e,t,o)=>{o("DOM.getDocument",(()=>{const t=e.send("getRootNode",void 0);return{root:c(t,void 0,2)}})),o("DOM.requestChildNodes",(({nodeId:e})=>{const o=d.getById(e);if(!o)return;const s=a(o.childNodes).map((t=>c(t,e,2)));t.emit("DOM.setChildNodes",{parentId:e,nodes:s})}));const n=new s.Highlight((e=>document.body.appendChild(e)));o("Overlay.hideHighlight",(()=>{n.hide()})),o("Overlay.highlightNode",(({nodeId:e,highlightConfig:t})=>{if(!e)return;const o=d.getById(e);if(!(o&&o instanceof Element))return;const{contentColor:s}=t;n.show(o,{contentColor:l(s)})}))};const l=({r:e,g:t,b:o,a:s}={r:0,g:0,b:0,a:1})=>`rgba(${e},${t},${o},${s})`},701:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.attachNetworkEvents=void 0;const s=o(124),n=o(751),r=new(o(240).Store);t.attachNetworkEvents=(e,t,o)=>{e.on("networkRequestHasBeenMade",(({type:e,request:o,requestId:n,timestamp:r})=>{const i=new s.RequestWillBeSentEvent({requestId:n,documentURL:window.location.href,request:{url:o.url,method:o.method,headers:o.headers},timestamp:r,type:"fetch"===e?"Fetch":"XHR"});t.emit("Network.requestWillBeSent",i)})),e.on("networkRequestHasSucceeded",(({response:e,requestId:o,timestamp:s,type:i})=>{r.store(o,e.text);const a=e.text.length,d=new n.ResponseReceivedEvent({requestId:o,loaderId:o,timestamp:s,type:"fetch"===i?"Fetch":"XHR",response:{url:e.url,statusText:e.status,status:e.statusCode,headers:e.headers,length:a}});t.emit("Network.responseReceived",d),t.emit("Network.dataReceived",{requestId:o,dataLength:a,encodedDataLength:a,timestamp:s}),t.emit("Network.loadingFinished",{requestId:o,encodedDataLength:a,timestamp:s})})),o("Network.getResponseBody",(({requestId:e})=>{const t=r.getById(e);if(void 0!==t)return{body:t,base64Encoded:/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$/.test(t)}}))}},853:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.attachRuntimeEvents=void 0;const s=o(540),n=o(753),r=o(147),i=o(105),a=e=>{if("warn"===e)return"warning";if("countReset"===e||"time"===e||"timeLog"===e||"timeStamp"===e||"group"===e||"groupCollapsed"===e||"groupEnd"===e)throw new Error(`console.${e} is not supported yet`);return e},d=e=>r.objectStore.getObjectIdOf(e);t.attachRuntimeEvents=(e,t,o)=>{e.on("consoleAPIHasBeenCalled",(({argumentsList:e,type:o,timestamp:n})=>{e.forEach((e=>r.objectStore.storeObject(e)));const c=new s.ConsoleAPICalledEvent({argumentsList:e,type:a(o),timestamp:n},(0,i.randomNumId)(),d);t.emit("Runtime.consoleAPICalled",c)})),o("Runtime.getProperties",(e=>{const t=(o=e.objectId,r.objectStore.getObjectOf(o));var o;if((0,i.isObject)(t))return new n.GetPropertiesResponse(t,d)}))}},675:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Highlight=void 0;const o=(e=0)=>`${e}px`;t.Highlight=class{constructor(e){this.node=((e,t,o)=>{const s=document.createElement("div");return s.id=e,Object.entries({display:"none",position:"absolute"}).forEach((([e,t])=>{s.style[e]=t})),s})("HIGHLIGHT_CONTAINER_ID"),e(this.node)}hide(){this.node.style.display="none"}show(e,{contentColor:t}){const s=e.getBoundingClientRect();this.node.style.backgroundColor=t,this.node.style.width=o(s.width),this.node.style.height=o(s.height),this.node.style.left=o(s.left),this.node.style.top=o(s.top),this.node.style.display="block"}}},484:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeadlessInspectorCdp=void 0;const s=o(818),n=o(827),r=o(701),i=o(853);class a{constructor(){this.enabled=!1,this.setCommandHandler=(e,t)=>{this.commandHandlerMap.set(e,t)},this.inspector=new s.HeadlessInspector,this.commandHandlerMap=new Map,this.eventEmitter=(0,s.evemitter)()}on(e,t){this.eventEmitter.on(e,t)}onAll(e){this.eventEmitter.onAll(e)}send(e,t){const o=this.commandHandlerMap.get(e);if(o)return o(t)}enable(){this.enabled||(this.enabled=!0,this.inspector.enable(),(0,i.attachRuntimeEvents)(this.inspector,this.eventEmitter,this.setCommandHandler),(0,r.attachNetworkEvents)(this.inspector,this.eventEmitter,this.setCommandHandler),(0,n.attachDOMEvents)(this.inspector,this.eventEmitter,this.setCommandHandler))}disable(){}}t.HeadlessInspectorCdp=a,t.default=a},899:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getAttributes=t.CDPNode=void 0,t.CDPNode=class{constructor({node:e,nodeId:o,parentId:s,childNodeCount:n=0,children:r=[]}){var i;this.nodeId=o,this.parentId=s,this.backendNodeId=o,this.nodeType=e.nodeType,this.nodeName=e.nodeName,this.localName=e.nodeName.toLowerCase(),this.nodeValue=null!==(i=e.nodeValue)&&void 0!==i?i:"",this.childNodeCount=n>0?n:null==r?void 0:r.length,this.children=r.length>0?r:void 0,this.attributes=(0,t.getAttributes)(e)}},t.getAttributes=e=>{const t=[];if(e instanceof Element){const o=e.attributes;for(let e=0;e<o.length;e++){const s=o.item(e);s&&(t.push(s.name),t.push(s.value))}}return t}},479:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Initiator=void 0,t.Initiator=class{constructor({type:e,url:t,lineNumber:o,columnNumber:s,requestId:n}){this.type=e,this.url=t,this.lineNumber=o,this.columnNumber=s,this.requestId=n}}},20:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0,t.Request=class{constructor({url:e,method:t,headers:o,postData:s,hasPostData:n,mixedContentType:r,initialPriority:i,referrerPolicy:a,isLinkPreload:d,isSameSite:c}){const l=new URL(e);this.url=e,this.urlFragment=l.hash,this.method=t,this.headers=o,this.postData=s,this.hasPostData=n,this.mixedContentType=r,this.initialPriority=i,this.referrerPolicy=a,this.isLinkPreload=d,this.isSameSite=c}}},124:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RequestWillBeSentEvent=void 0;const s=o(479),n=o(20);t.RequestWillBeSentEvent=class{constructor({requestId:e,documentURL:t,request:o,timestamp:r,type:i}){this.requestId=e,this.loaderId=e,this.documentURL=t,this.request=new n.Request({url:o.url,method:o.method,headers:o.headers,initialPriority:"High",referrerPolicy:"origin"}),this.timestamp=r,this.wallTime=r,this.initiator=new s.Initiator({type:"other"}),this.redirectHasExtraInfo=!1,this.type=i}}},764:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Response=void 0;const s=o(105);t.Response=class{constructor({url:e,status:t,statusText:o,headers:n,mimeType:r,encodedDataLength:i}){this.connectionReused=!1,this.securityState="secure",this.url=e,this.status=t,this.statusText=o,this.headers=n,this.mimeType=r,this.encodedDataLength=i,this.connectionId=(0,s.randomNumId)()}}},751:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseReceivedEvent=void 0;const s=o(764);t.ResponseReceivedEvent=class{constructor({requestId:e,loaderId:t,timestamp:o,type:n,response:{url:r,status:i,statusText:a,headers:d,length:c,mimeType:l}}){this.requestId=e,this.loaderId=t,this.timestamp=o,this.response=new s.Response({url:r,status:i,statusText:a,headers:d,encodedDataLength:c,mimeType:null!=l?l:"text/html"}),this.type=n,this.hasExtraInfo=!1}}},540:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleAPICalledEvent=void 0;const s=o(105),n=o(864);t.ConsoleAPICalledEvent=class{constructor({type:e,argumentsList:t,timestamp:o},r,i){this.args=[],this.type=e,this.timestamp=o,this.executionContextId=r,t.forEach((e=>{const t=(0,s.isObject)(e)?i(e):void 0;this.args.push(new n.RemoteObject(e,t))}))}}},753:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GetPropertiesResponse=void 0;const s=o(105),n=o(494);t.GetPropertiesResponse=class{constructor(e,t){this.result=Object.entries(e).map((([o,r])=>{var i,a;const d=(0,s.isObject)(r)?t(r):void 0,c=Object.getOwnPropertyDescriptor(e,o);if(!c)throw new Error(`PropertyDescriptor of ${r} is missing`);return new n.PropertyDescriptor(r,d,{name:o,enumerable:null===(i=c.enumerable)||void 0===i||i,configurable:null===(a=c.configurable)||void 0===a||a,writable:c.writable})}))}}},504:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectPreview=void 0;const s=o(299);t.ObjectPreview=class{constructor(e,t){if(this.overflow=!1,this.properties=[],"object"!=typeof e||null===e)throw new Error(`ObjectPreview accepts object type only. given ${e}`);this.type="object",this.overflow=t,Array.isArray(e)?(this.subtype="array",this.description=`Array(${e.length})`,this.properties=e.map(((e,t)=>new s.PropertyPreview(`${t}`,e)))):(this.description="Object",this.properties=Object.entries(e).map((([e,t])=>new s.PropertyPreview(e,t))))}}},494:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyDescriptor=void 0;const s=o(864);t.PropertyDescriptor=class{constructor(e,t,{name:o,enumerable:n,configurable:r,writable:i}){this.value=new s.RemoteObject(e,t),this.name=o,this.enumerable=n,this.configurable=r,this.writable=i}}},299:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyPreview=void 0,t.PropertyPreview=class{constructor(e,t){switch(this.name=e,typeof t){case"string":this.type="string",this.value=t;break;case"number":this.type="number",this.value=`${t}`;break;case"boolean":this.type="boolean",this.value=`${t}`;break;case"undefined":this.type="undefined",this.value=`${t}`;break;case"bigint":this.type="bigint",this.value=t.toString();break;case"symbol":this.type="symbol",this.value=t.toString();break;case"function":this.type="function",this.value=t.toString();break;case"object":if(this.type="object",null===t){this.value="null";break}if(Array.isArray(t)){this.value=`Array(${t.length})`,this.subtype="array";break}this.value="Object";break;default:throw new Error(`Unknown type: ${t} ${typeof t}`)}}}},864:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteObject=void 0;const s=o(504);t.RemoteObject=class{constructor(e,t){switch(typeof e){case"string":this.type="string",this.value=e;break;case"number":this.type="number",this.value=e,this.description=`${e}`;break;case"boolean":this.type="boolean",this.value=e;break;case"undefined":this.type="undefined",this.value=e;break;case"bigint":this.type="bigint",this.value=e.toString(),this.description=e.toString();break;case"symbol":if(!t)throw new Error(`${e.toString()} should have objectId in RemoteObject`);this.type="symbol",this.value=e.toString(),this.objectId=t;break;case"function":if(!t)throw new Error(`${e.toString()} should have objectId in RemoteObject`);this.type="function",this.description=e.toString(),this.objectId=t,this.className="Function";break;case"object":if(this.type="object",null===e){this.subtype="null",this.value=null;break}if(!t)throw new Error(`${JSON.stringify(e)} should have objectId in RemoteObject`);if(Array.isArray(e)){this.objectId=t,this.className="Array",this.description=`Array(${e.length})`,this.subtype="array",this.preview=new s.ObjectPreview(e,!0);break}this.objectId=t,this.className="Object",this.description="Object",this.preview=new s.ObjectPreview(e,!1);break;default:throw new Error(`Unknown type: ${e} ${typeof e}`)}}}},147:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.objectStore=void 0;const s=o(105),n=o(240);class r extends n.Store{storeObject(e){if(!(0,s.isObject)(e))return;const t=(0,s.randomStrId)();this.store(t,e),Object.values(e).forEach((e=>this.storeObject(e)))}getObjectOf(e){return this.getById(e)}getObjectIdOf(e){return this.getByValue(e)}}t.objectStore=new r},240:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Store=void 0,t.Store=class{constructor(){this.idToValue=new Map,this.valueToId=new Map}store(e,t){this.idToValue.set(e,t),this.valueToId.set(t,e)}getById(e){return this.idToValue.get(e)}getByValue(e){return this.valueToId.get(e)}}},105:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.randomStrId=t.randomNumId=t.isObject=void 0,t.isObject=e=>{if("string"==typeof e)return!1;if("number"==typeof e)return!1;if("boolean"==typeof e)return!1;if(void 0===e)return!1;if("bigint"==typeof e)return!1;if("symbol"==typeof e)return!0;if("function"==typeof e)return!0;if("object"==typeof e)return null!==e;throw new Error(`Unknown type: ${e} ${typeof e}`)},t.randomNumId=()=>Math.random()*Math.pow(10,10),t.randomStrId=()=>`${(0,t.randomNumId)()}`},831:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.commandHandler=void 0,t.commandHandler=(e,t)=>{if("getRootNode"===e)return window.document.getRootNode();throw new Error(`Unsupported command ${e}`)}},810:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.evemitter=void 0,t.evemitter=()=>{let e=!1,t=null;const o=new Map;return{on:(e,t)=>{o.set(e,t)},onAll:e=>{t=e},emit:(s,n)=>{if(e)return;e=!0;const r=o.get(s);r&&r(n),t&&t(s,n),e=!1}}}},818:function(e,t,o){var s=this&&this.__createBinding||(Object.create?function(e,t,o,s){void 0===s&&(s=o);var n=Object.getOwnPropertyDescriptor(t,o);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,s,n)}:function(e,t,o,s){void 0===s&&(s=o),e[s]=t[o]}),n=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||s(t,e,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.HeadlessInspector=void 0;const r=o(831),i=o(810),a=o(175);n(o(810),t),n(o(175),t),n(o(648),t);class d{constructor(){this.isEnabled=!1,this.debugEventEmitter=(0,i.evemitter)()}on(e,t){return this.debugEventEmitter.on(e,t)}onAll(e){this.debugEventEmitter.onAll(e)}send(e,t){return(0,r.commandHandler)(e,t)}enable(){this.isEnabled||(this.isEnabled=!0,(0,a.interceptConsole)(this.debugEventEmitter),(0,a.interceptNetwork)(this.debugEventEmitter))}disable(){}}t.HeadlessInspector=d,t.default=d},9:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.interceptConsole=t.consoleHandlerFactory=void 0,t.consoleHandlerFactory=e=>t=>({apply:function(o,s,n){const r=Date.now();return e.emit("consoleAPIHasBeenCalled",{argumentsList:n,type:t,timestamp:r}),Reflect.apply(o,s,n)}}),t.interceptConsole=e=>{const o=(0,t.consoleHandlerFactory)(e);console.log=new Proxy(console.log,o("log")),console.error=new Proxy(console.error,o("error")),console.warn=new Proxy(console.warn,o("warn")),console.info=new Proxy(console.info,o("info"))}},175:function(e,t,o){var s=this&&this.__createBinding||(Object.create?function(e,t,o,s){void 0===s&&(s=o);var n=Object.getOwnPropertyDescriptor(t,o);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,s,n)}:function(e,t,o,s){void 0===s&&(s=o),e[s]=t[o]}),n=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||s(t,e,o)};Object.defineProperty(t,"__esModule",{value:!0}),n(o(9),t),n(o(646),t)},782:function(e,t,o){var s=this&&this.__awaiter||function(e,t,o,s){return new(o||(o=Promise))((function(n,r){function i(e){try{d(s.next(e))}catch(e){r(e)}}function a(e){try{d(s.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,a)}d((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createFetchApiHandler=void 0;const n=o(834);t.createFetchApiHandler=e=>({apply:(t,o,r)=>s(void 0,void 0,void 0,(function*(){const s=(0,n.randomId)(),i=Date.now(),a=r[0],d=r[1],c="string"==typeof a?a:a.url,l="string"==typeof a?null==d?void 0:d.method:a.method;e.emit("networkRequestHasBeenMade",{type:"fetch",requestId:s,timestamp:i,request:{method:null!=l?l:"GET",headers:{},url:c}});const u=yield Reflect.apply(t,o,r),h=u.clone(),p=Date.now(),m={};h.headers.forEach(((e,t)=>{m[t]=e}));const y=yield h.text();return e.emit("networkRequestHasSucceeded",{type:"fetch",requestId:s,timestamp:p,response:{url:c,status:h.statusText,statusCode:h.status,headers:m,rawData:h,text:y}}),u}))})},646:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.interceptNetwork=void 0;const s=o(782),n=o(289);t.interceptNetwork=e=>{if(window.fetch){const t=(0,s.createFetchApiHandler)(e);window.fetch=new Proxy(window.fetch,t)}if(window.XMLHttpRequest){const t=(0,n.createXHRHandler)(e);window.XMLHttpRequest.prototype.open=new Proxy(window.XMLHttpRequest.prototype.open,t.open),window.XMLHttpRequest.prototype.send=new Proxy(window.XMLHttpRequest.prototype.send,t.send),window.XMLHttpRequest=new Proxy(window.XMLHttpRequest,t.construct)}}},834:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.randomId=void 0,t.randomId=()=>Math.random().toString(36).substr(2,9)},289:(e,t,o)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createXHRHandler=void 0;const s=o(834),n=new Map,r=Symbol("__hiRequestId");t.createXHRHandler=e=>({construct:{construct:(e,t,o)=>{const n=(0,s.randomId)();return o.prototype[r]=n,Reflect.construct(e,t,o)}},open:{apply:(e,t,o)=>{const s=t[r];if(!s)return Reflect.apply(e,t,o);const[i,a]=o,d=a.toString();n.set(s,{method:i,url:d,headers:{}}),Reflect.apply(e,t,o)}},send:{apply:(t,o,s)=>{const i=o[r];if(!i)return Reflect.apply(t,o,s);const a=Date.now(),d=n.get(i);if(!d)return Reflect.apply(t,o,s);e.emit("networkRequestHasBeenMade",{type:"xhr",timestamp:a,requestId:i,request:d});const c=()=>{switch(o.readyState){case XMLHttpRequest.DONE:{const t=Date.now(),s=o.getAllResponseHeaders().split("\n").reduce(((e,t)=>{const[o,s]=t.split(": ");return Object.assign(Object.assign({},e),{[o]:s})}),{});e.emit("networkRequestHasSucceeded",{type:"xhr",timestamp:t,requestId:i,response:{url:d.url,statusCode:o.status,status:o.statusText,headers:s,rawData:o.response,text:o.response}});break}}};return o.onreadystatechange=o.onreadystatechange?new Proxy(o.onreadystatechange,{apply:(e,t,o)=>(c(),Reflect.apply(e,t,o))}):c,Reflect.apply(t,o,s)}}})},648:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},247:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeadlessInspectorClient=void 0,t.HeadlessInspectorClient=class{constructor(e){this.inspector=e,this.connected=!1,this.onWsClose=e=>{this.connected=!1},this.onWsError=e=>{this.connected=!1},this.onWsOpen=()=>{var e;this.connected=!0,this.inspector.enable(),null===(e=this.ws)||void 0===e||e.addEventListener("message",this.onMessageFromDevTools)},this.onAllDebugEvents=(e,t)=>{const o={method:e,params:t};this.send(o)},this.onMessageFromDevTools=e=>{const t=JSON.parse(e.data),o=this.inspector.send(t.method,t.params),s={id:t.id,method:t.method,result:o};this.send(s)},this.inspector.onAll(this.onAllDebugEvents)}send(e){var t;const o=JSON.stringify(e);null===(t=this.ws)||void 0===t||t.send(o)}enable(e){this.connected?console.log("Headless Inspector has already been enabled."):(this.ws=new WebSocket(e),this.ws.onclose=this.onWsClose,this.ws.onopen=this.onWsOpen,this.ws.onerror=this.onWsError)}disable(){this.inspector.disable()}}}},t={},o=function o(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,o),r.exports}(117);return o.default})()));